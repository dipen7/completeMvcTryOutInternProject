@model CompleteMvcCmsProject1.Areas.PhotoSection.ViewModel.CreateVM
@{

    ViewBag.Title = "Modify Photo";
}

<div class="row" id="app">
    <form action="/PhotoSection/PhotoCms/modify" method="post" enctype="multipart/form-data" class="text-center">


        <div class="row">
            <div class="col-lg-5 col-md-5 text-center">
                <a href="/PhotoSection/PhotoCms/"><div class="btn btn-primary">back</div></a>
            </div>
            <div class="col-lg-7 col-md-7 text-left">
                <label for="AdminName">Admin Name*:</label>
                @Model.Uploader.AdminName
            </div>
            
        </div>

        <div class="form-group row hidden">
            <div class="col-lg-6 col-md-6">
                <label for="Id">Id:</label>
            </div>
            <div class="col-lg-6 col-md-6 form-control">
                <input type="text" name="Id" value="@Model.Uploader.Id">
            </div>
        </div>


        <div class="row form-group text-center">
            <img :src="url" width="250" height="400" id="image-field" title="previous">
        </div>
        <div>
        <div class="col-lg-8 col-md-8 col-lg-offset-4 col-md-offset-4 col-sm-9 col-sm-offset-3">
            <input class="btn btn-default" type="file" name="ImageData" id="ImageData" onchange="previewimage(event)" />
        </div>
        </div>
        <div class="row form-group">
            <input type="submit" class="btn btn-primary" value="Modify Entry" />
        </div>
    </form>
</div>

@section scripts{
    <script type="text/javascript">
        function previewimage(event) {
            var reader = new FileReader();
            var imageField = document.getElementById("image-field")
            reader.onload = function () {
                if (reader.readyState == 2) {
                    imageField.src = reader.result;
                }
            }
            reader.readAsDataURL(event.target.files[0]);
        }
    </script>
    <script type="text/javascript">
        new Vue({
            el: '#app',
            data: {
                message: "Hello from Vue.js using webpack.",
                url: "/Image/@Model.Uploader.PhotoName"
            }
        });

    </script>
}